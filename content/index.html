<div id="mainleft">
  <div id="screenshot">
<%
  i = 0
  Dir.glob('content/images/screenshots/*.png') do |item|
    next if item == '.' or item == '..' %>
	<img width="250" height="150" src="images/screenshots/<%= File.basename(item) %>" alt=""<%= if i == 0 then ' class="active"' end %> />
<%
    i = i + 1
  end
%>
</div>
</div>
<div>
  <h2>Welcome Back, Commander</h2>
  <p>OpenRA is a Libre/Free Real Time Strategy project that recreates the classic Command&nbsp;&amp;&nbsp;Conquer titles.</p>
  <p>We include recreations of C&amp;C&nbsp;(Tiberian&nbsp;Dawn), C&amp;C:&nbsp;Red&nbsp;Alert, and Dune&nbsp;2000. These are not intended to be perfect copies, but instead combine the classic gameplay of the originals with modern improvements such as unit veterancy and the fog of war.</p>
  <p>OpenRA's primary focus is cross-platform multiplayer between Windows, OS&nbsp;X, and Linux; however, we include a number of single-player missions, and also support skirmish games against AI bots.</p>
</div>
<h2 style="clear:both">Latest News</h2>
<hr />
<h3 class="newsTitle"><%= sorted_articles.first[:title] %></h3>
<%= sorted_articles.first.compiled_content(:snapshot => :body) %>

<script>
  function slideSwitch() {
    var $active = $('#screenshot IMG.active');
    if ($active.length == 0)
      $active = $('#screenshot IMG:last');
    var $next =  $active.next().length ? $active.next()
      : $('#screenshot IMG:first');
    $active.addClass('last-active');
    $next.css({opacity: 0.0})
      .addClass('active')
      .animate({opacity: 1.0}, 1000, function() {
          $active.removeClass('active last-active');
    });
  }
  $(function() {
    setInterval("slideSwitch()", 2500);
  });
</script>